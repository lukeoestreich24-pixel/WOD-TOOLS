<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WOD Time Predictor | CrossFit Performance Calculator</title>
<meta name="description" content="Predict your performance on benchmark CrossFit WODs based on your current fitness markers and training data.">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Bebas+Neue&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../styles.css">
<style>
.performance-badge {
    display: inline-block;
    padding: 12px 30px;
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    border-radius: 50px;
    font-size: 20px;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 25px;
    box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
}

.prediction-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-top: 25px;
}

.prediction-item {
    background: var(--bg-input);
    padding: 25px;
    border-radius: 16px;
    border: 1px solid var(--border);
    text-align: center;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
}

.prediction-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--primary), var(--primary-light));
    opacity: 0;
    transition: opacity 0.3s;
}

.prediction-item:hover {
    border-color: var(--primary);
    transform: translateY(-5px);
}

.prediction-item:hover::before {
    opacity: 1;
}

.prediction-wod-name {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-secondary);
    margin-bottom: 12px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.prediction-time {
    font-size: 36px;
    font-weight: 800;
    color: var(--primary-light);
    line-height: 1;
}

.prediction-unit {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-secondary);
    margin-top: 5px;
}

.advanced-metrics {
    background: rgba(0,0,0,0.3);
    padding: 20px;
    border-radius: 12px;
    margin-top: 20px;
}

.metric-row {
    display: flex;
    justify-content: space-between;
    padding: 12px 0;
    border-bottom: 1px solid rgba(255,255,255,0.05);
}

.metric-row:last-child {
    border-bottom: none;
}

.metric-label {
    color: var(--text-secondary);
    font-size: 14px;
}

.metric-value {
    color: var(--primary-light);
    font-weight: 700;
    font-size: 14px;
}

.benchmark-levels {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 15px;
    margin-top: 20px;
}

.level-badge {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
    padding: 15px;
    border-radius: 10px;
    text-align: center;
}

.level-name {
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    color: var(--primary-light);
    margin-bottom: 8px;
}

.level-value {
    font-size: 18px;
    font-weight: 800;
    color: var(--text-primary);
}

@media (max-width: 768px) {
    .prediction-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}
</style>
</head>
<body>

<div class="bg-animation"></div>
<div class="grid-overlay"></div>

<nav class="nav">
    <div class="nav-container">
        <a href="../index.html" class="logo">WOD TOOLS</a>
        <div class="nav-links">
            <a href="../index.html" class="nav-link">Home</a>
            <a href="wod-database.html" class="nav-link">WOD Database</a>
            <a href="tracker.html" class="nav-link">Tracker</a>
        </div>
        <div class="unit-toggle-nav">
            <button id="lbsBtn" class="active" onclick="setUnit('lbs')">LBS</button>
            <button id="kgBtn" onclick="setUnit('kg')">KG</button>
        </div>
    </div>
</nav>

<div class="container">
    <h1 class="page-title">WOD TIME PREDICTOR</h1>
    <p class="page-subtitle">Predict your performance on benchmark WODs based on your fitness markers</p>

    <div class="calculator-card">
        <div class="predictor-intro">
            <h3>ðŸ“Š How This Works</h3>
            <p>This predictor uses your performance on key benchmark workouts and gymnastics movements to estimate your times on other CrossFit benchmarks. The more accurate your input data, the better your predictions will be. These are training estimates, not guarantees!</p>
        </div>

        <h3 style="margin-bottom: 20px; font-size: 20px;">Enter Your Current Benchmarks</h3>

        <div class="input-grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
            <div class="input-group">
                <label for="franTime">Fran Time (minutes)</label>
                <input type="number" step="0.01" id="franTime" placeholder="e.g., 5.5">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">21-15-9 Thrusters & Pull-ups</small>
            </div>

            <div class="input-group">
                <label for="cindyRounds">Cindy (rounds in 20 min)</label>
                <input type="number" id="cindyRounds" placeholder="e.g., 18">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">5 Pull-ups, 10 Push-ups, 15 Squats</small>
            </div>

            <div class="input-group">
                <label for="maxPullups">Max Unbroken Pull-ups</label>
                <input type="number" id="maxPullups" placeholder="e.g., 25">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Strict or kipping</small>
            </div>

            <div class="input-group">
                <label for="rowTime">500m Row Time (seconds)</label>
                <input type="number" step="0.1" id="rowTime" placeholder="e.g., 95">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Optional - Max effort 500m</small>
            </div>

            <div class="input-group">
                <label for="maxDoubleUnders">Max Unbroken Double-unders</label>
                <input type="number" id="maxDoubleUnders" placeholder="e.g., 50">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Optional - Continuous without break</small>
            </div>

            <div class="input-group">
                <label for="mile400">400m Run Time (seconds)</label>
                <input type="number" step="0.1" id="mile400" placeholder="e.g., 85">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Optional - Sprint pace</small>
            </div>
        </div>

        <button class="btn" onclick="predictPerformance()" style="width: 100%;">PREDICT MY TIMES</button>

        <!-- Results Section -->
        <div id="resultsSection" class="result">
            <hr style="border: none; border-top: 1px solid var(--border); margin: 40px 0;">
            
            <div style="text-align: center; margin-bottom: 30px;">
                <div class="performance-badge" id="performanceBadge"></div>
                <p style="color: var(--text-secondary); font-size: 14px;">Your estimated performance level</p>
            </div>

            <h3 style="font-size: 24px; margin-bottom: 20px;">Predicted Benchmark Times</h3>

            <div class="prediction-grid" id="predictionsGrid"></div>

            <div class="advanced-metrics">
                <h4 style="color: var(--primary-light); margin-bottom: 15px; font-size: 16px;">ðŸ“ˆ Performance Metrics</h4>
                <div id="metricsContent"></div>
            </div>

            <div class="info-card">
                <h4>ðŸ’¡ Understanding Your Results</h4>
                <ul>
                    <li><strong>Predictions are estimates:</strong> Actual performance depends on skill proficiency, experience, and mental toughness</li>
                    <li><strong>Movement efficiency matters:</strong> Technical skill can significantly impact times beyond raw fitness</li>
                    <li><strong>Use as training targets:</strong> These times represent realistic goals based on your current capacity</li>
                    <li><strong>Update regularly:</strong> Re-test benchmarks every 6-8 weeks to track progress</li>
                </ul>
            </div>

            <!-- Contextual Gear Recommendations -->
            <div class="inline-recommendation">
                <div class="recommendation-content">
                    <div style="font-size: 32px; margin-bottom: 10px;">ðŸ¤²</div>
                    <h4>Protect Your Hands During High-Rep WODs</h4>
                    <p>Benchmark WODs like Fran and Helen demand high-volume pull-ups. Quality hand grips prevent tears and keep you moving efficiently.</p>
                    <div style="display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap;">
                        <a href="https://amzn.to/4tC9Fi9" target="_blank" rel="noopener" class="inline-rec-btn">Gymnastics Grips â†’</a>
                        <a href="https://amzn.to/4aRR6PK" target="_blank" rel="noopener" class="inline-rec-btn secondary">2-Hole Grips â†’</a>
                    </div>
                </div>
            </div>

            <div class="benchmark-levels" style="margin-top: 30px;">
                <div class="level-badge">
                    <div class="level-name">ðŸŒ± Beginner</div>
                    <div class="level-value">&lt;30 pts</div>
                </div>
                <div class="level-badge">
                    <div class="level-name">ðŸ“ˆ Developing</div>
                    <div class="level-value">30-44 pts</div>
                </div>
                <div class="level-badge">
                    <div class="level-name">âš¡ Intermediate</div>
                    <div class="level-value">45-59 pts</div>
                </div>
                <div class="level-badge">
                    <div class="level-name">ðŸ’ª Advanced</div>
                    <div class="level-value">60-74 pts</div>
                </div>
                <div class="level-badge">
                    <div class="level-name">ðŸ”¥ Elite</div>
                    <div class="level-value">75+ pts</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional Subtle Recommendations -->
    <div class="product-category" style="margin-top: 50px;">
        <div class="category-header">
            <h3>Equipment for Benchmark WODs</h3>
            <p>The gear that helps you move faster and stay protected</p>
        </div>
        <div class="product-grid">
            <a href="https://amzn.to/4ahqk38" target="_blank" rel="noopener" class="product-card">
                <div class="product-icon">ðŸª¢</div>
                <div class="product-info">
                    <div class="product-name">Speed Jump Rope</div>
                    <div class="product-desc">Faster double-unders in Annie</div>
                </div>
            </a>
            <a href="https://amzn.to/4kG65Qb" target="_blank" rel="noopener" class="product-card">
                <div class="product-icon">ðŸ‘Ÿ</div>
                <div class="product-info">
                    <div class="product-name">Training Shoes</div>
                    <div class="product-desc">Stability for mixed-modal WODs</div>
                </div>
            </a>
            <a href="https://amzn.to/4az9JGT" target="_blank" rel="noopener" class="product-card">
                <div class="product-icon">ðŸ¦µ</div>
                <div class="product-info">
                    <div class="product-name">Knee Sleeves</div>
                    <div class="product-desc">Support during squat-heavy WODs</div>
                </div>
            </a>
        </div>
    </div>
</div>

<footer class="footer">
    <div class="footer-brand">WOD TOOLS</div>
    <p class="footer-text">
        Built for the box. Train smart. Lift heavy.<br>
        Professional tools for serious CrossFit athletes.
    </p>
    <p class="footer-disclaimer">
        As an Amazon Associate, we earn from qualifying purchases at no extra cost to you.
    </p>
</footer>

<script>
let currentUnit = localStorage.getItem('unit') || 'lbs';

function setUnit(unit) {
    currentUnit = unit;
    localStorage.setItem('unit', unit);
    document.getElementById('lbsBtn').classList.toggle('active', unit === 'lbs');
    document.getElementById('kgBtn').classList.toggle('active', unit === 'kg');
}

function predictPerformance() {
    const franTime = parseFloat(document.getElementById('franTime').value);
    const cindyRounds = parseInt(document.getElementById('cindyRounds').value);
    const maxPullups = parseInt(document.getElementById('maxPullups').value);
    const rowTime = parseFloat(document.getElementById('rowTime').value);
    const maxDoubleUnders = parseInt(document.getElementById('maxDoubleUnders').value);
    const run400 = parseFloat(document.getElementById('mile400').value);

    if (isNaN(franTime) || isNaN(cindyRounds) || isNaN(maxPullups)) {
        alert('Please fill in at least Fran time, Cindy rounds, and max pull-ups to get predictions.');
        return;
    }

    const performanceData = calculatePerformanceScore(
        franTime, 
        cindyRounds, 
        maxPullups, 
        rowTime, 
        maxDoubleUnders,
        run400
    );

    const predictions = generatePredictions(performanceData);
    displayResults(performanceData, predictions);
}

function calculatePerformanceScore(fran, cindy, pullups, row, doubleUnders, run) {
    let score = 0;
    let breakdown = {};

    if (fran < 2.5) {
        score += 30;
        breakdown.fran = 'Elite';
    } else if (fran < 4) {
        score += 26;
        breakdown.fran = 'Advanced';
    } else if (fran < 6) {
        score += 22;
        breakdown.fran = 'Intermediate';
    } else if (fran < 8) {
        score += 18;
        breakdown.fran = 'Developing';
    } else if (fran < 12) {
        score += 14;
        breakdown.fran = 'Beginner';
    } else {
        score += 10;
        breakdown.fran = 'Novice';
    }

    if (cindy > 28) {
        score += 30;
        breakdown.cindy = 'Elite';
    } else if (cindy > 23) {
        score += 26;
        breakdown.cindy = 'Advanced';
    } else if (cindy > 18) {
        score += 22;
        breakdown.cindy = 'Intermediate';
    } else if (cindy > 14) {
        score += 18;
        breakdown.cindy = 'Developing';
    } else if (cindy > 10) {
        score += 14;
        breakdown.cindy = 'Beginner';
    } else {
        score += 10;
        breakdown.cindy = 'Novice';
    }

    if (pullups > 50) {
        score += 30;
        breakdown.pullups = 'Elite';
    } else if (pullups > 35) {
        score += 26;
        breakdown.pullups = 'Advanced';
    } else if (pullups > 25) {
        score += 22;
        breakdown.pullups = 'Intermediate';
    } else if (pullups > 15) {
        score += 18;
        breakdown.pullups = 'Developing';
    } else if (pullups > 8) {
        score += 14;
        breakdown.pullups = 'Beginner';
    } else {
        score += 10;
        breakdown.pullups = 'Novice';
    }

    if (!isNaN(row)) {
        if (row < 85) score += 5;
        else if (row < 95) score += 4;
        else if (row < 105) score += 3;
        else if (row < 115) score += 2;
        else score += 1;
    }

    if (!isNaN(doubleUnders)) {
        if (doubleUnders > 100) score += 5;
        else if (doubleUnders > 75) score += 4;
        else if (doubleUnders > 50) score += 3;
        else if (doubleUnders > 30) score += 2;
        else score += 1;
    }

    if (!isNaN(run)) {
        if (run < 75) score += 5;
        else if (run < 85) score += 4;
        else if (run < 95) score += 3;
        else if (run < 105) score += 2;
        else score += 1;
    }

    let level;
    if (score >= 75) level = 'ðŸ”¥ ELITE';
    else if (score >= 60) level = 'ðŸ’ª ADVANCED';
    else if (score >= 45) level = 'âš¡ INTERMEDIATE';
    else if (score >= 30) level = 'ðŸ“ˆ DEVELOPING';
    else level = 'ðŸŒ± BEGINNER';

    return { score, level, breakdown, fran, cindy, pullups };
}

function generatePredictions(data) {
    const { fran, cindy, score } = data;
    
    const predictions = {
        grace: {
            time: (fran * 0.75 + (30 - cindy) * 0.15).toFixed(2),
            unit: 'min'
        },
        helen: {
            time: (fran * 1.85 + (30 - cindy) * 0.2).toFixed(2),
            unit: 'min'
        },
        diane: {
            time: (fran * 1.35 + (30 - cindy) * 0.18).toFixed(2),
            unit: 'min'
        },
        karen: {
            time: (fran * 1.2 + (30 - cindy) * 0.25).toFixed(2),
            unit: 'min'
        },
        annie: {
            time: (fran * 1.5 + (30 - cindy) * 0.15).toFixed(2),
            unit: 'min'
        },
        jackie: {
            time: (fran * 1.4 + (30 - cindy) * 0.2).toFixed(2),
            unit: 'min'
        },
        nancy: {
            time: (fran * 2.1 + (30 - cindy) * 0.3).toFixed(2),
            unit: 'min'
        },
        elizabeth: {
            time: (fran * 1.6 + (30 - cindy) * 0.22).toFixed(2),
            unit: 'min'
        }
    };

    return predictions;
}

function displayResults(performanceData, predictions) {
    document.getElementById('resultsSection').classList.add('show');
    document.getElementById('performanceBadge').textContent = performanceData.level;

    const predictionsHTML = Object.entries(predictions).map(([wod, data]) => `
        <div class="prediction-item">
            <div class="prediction-wod-name">${wod.toUpperCase()}</div>
            <div class="prediction-time">${data.time}</div>
            <div class="prediction-unit">${data.unit}</div>
        </div>
    `).join('');
    document.getElementById('predictionsGrid').innerHTML = predictionsHTML;

    const metricsHTML = `
        <div class="metric-row">
            <span class="metric-label">Overall Performance Score</span>
            <span class="metric-value">${performanceData.score} points</span>
        </div>
        <div class="metric-row">
            <span class="metric-label">Fran Capacity</span>
            <span class="metric-value">${performanceData.breakdown.fran}</span>
        </div>
        <div class="metric-row">
            <span class="metric-label">Bodyweight Endurance</span>
            <span class="metric-value">${performanceData.breakdown.cindy}</span>
        </div>
        <div class="metric-row">
            <span class="metric-label">Gymnastics Strength</span>
            <span class="metric-value">${performanceData.breakdown.pullups}</span>
        </div>
    `;
    document.getElementById('metricsContent').innerHTML = metricsHTML;

    document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

document.addEventListener('DOMContentLoaded', () => {
    setUnit(currentUnit);
});
</script>

</body>
</html>
