<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WOD Time Predictor | CrossFit Performance Calculator</title>
<meta name="description" content="Predict your performance on benchmark CrossFit WODs based on your current fitness markers and training data.">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Bebas+Neue&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../styles.css">
<style>
.performance-badge {
    display: inline-block;
    padding: 12px 30px;
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    border-radius: 50px;
    font-size: 20px;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 25px;
    box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
}

.prediction-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-top: 25px;
}

.prediction-item {
    background: var(--bg-input);
    padding: 25px;
    border-radius: 16px;
    border: 1px solid var(--border);
    text-align: center;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
}

.prediction-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--primary), var(--primary-light));
    opacity: 0;
    transition: opacity 0.3s;
}

.prediction-item:hover {
    border-color: var(--primary);
    transform: translateY(-5px);
}

.prediction-item:hover::before {
    opacity: 1;
}

.prediction-wod-name {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-secondary);
    margin-bottom: 12px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.prediction-time {
    font-size: 36px;
    font-weight: 800;
    color: var(--primary-light);
    line-height: 1;
}

.prediction-unit {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-secondary);
    margin-top: 5px;
}

.prediction-confidence {
    font-size: 12px;
    color: var(--text-secondary);
    margin-top: 8px;
}

.advanced-metrics {
    background: rgba(0,0,0,0.3);
    padding: 20px;
    border-radius: 12px;
    margin-top: 20px;
}

.metric-row {
    display: flex;
    justify-content: space-between;
    padding: 12px 0;
    border-bottom: 1px solid rgba(255,255,255,0.05);
}

.metric-row:last-child {
    border-bottom: none;
}

.metric-label {
    color: var(--text-secondary);
    font-size: 14px;
}

.metric-value {
    color: var(--primary-light);
    font-weight: 700;
    font-size: 14px;
}

.benchmark-levels {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 15px;
    margin-top: 20px;
}

.level-badge {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
    padding: 15px;
    border-radius: 10px;
    text-align: center;
}

.level-name {
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    color: var(--primary-light);
    margin-bottom: 8px;
}

.level-value {
    font-size: 18px;
    font-weight: 800;
    color: var(--text-primary);
}

.required-label {
    color: var(--primary);
    font-weight: 700;
}

@media (max-width: 768px) {
    .prediction-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}
</style>
</head>
<body>

<div class="bg-animation"></div>
<div class="grid-overlay"></div>

<nav class="nav">
    <div class="nav-container">
        <a href="../index.html" class="logo">WOD TOOLS</a>
        <div class="nav-links">
            <a href="../index.html" class="nav-link">Home</a>
            <a href="wod-database.html" class="nav-link">WOD Database</a>
            <a href="tracker.html" class="nav-link">Tracker</a>
        </div>
        <div class="unit-toggle-nav">
            <button id="lbsBtn" class="active" onclick="setUnit('lbs')">LBS</button>
            <button id="kgBtn" onclick="setUnit('kg')">KG</button>
        </div>
    </div>
</nav>

<div class="container">
    <h1 class="page-title">WOD TIME PREDICTOR</h1>
    <p class="page-subtitle">Predict your performance on benchmark WODs based on multiple fitness markers</p>

    <div class="calculator-card">
        <div class="predictor-intro">
            <h3>ðŸ“Š How This Works</h3>
            <p>This predictor uses research-based correlations between benchmark workouts and strength/gymnastics markers. The more data you provide, the more accurate your predictions. All fields marked with <span class="required-label">*</span> are required for predictions.</p>
        </div>

        <h3 style="margin-bottom: 20px; font-size: 20px;">Enter Your Performance Data</h3>

        <div class="input-grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
            
            <div class="input-group">
                <label for="franTime">Fran Time <span class="required-label">*</span></label>
                <input type="text" id="franTime" placeholder="e.g., 5:30 or 5.5">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">21-15-9 Thrusters (95/65) & Pull-ups</small>
            </div>

            <div class="input-group">
                <label for="bodyweight">Bodyweight (lbs) <span class="required-label">*</span></label>
                <input type="number" id="bodyweight" placeholder="e.g., 185">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Used for strength-to-weight calculations</small>
            </div>

            <div class="input-group">
                <label for="backSquat">Back Squat 1RM (lbs) <span class="required-label">*</span></label>
                <input type="number" id="backSquat" placeholder="e.g., 315">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Your max back squat</small>
            </div>

            <div class="input-group">
                <label for="maxPullups">Max Unbroken Pull-ups <span class="required-label">*</span></label>
                <input type="number" id="maxPullups" placeholder="e.g., 25">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Strict or kipping</small>
            </div>

            <div class="input-group">
                <label for="cindyRounds">Cindy (rounds in 20 min)</label>
                <input type="number" id="cindyRounds" placeholder="e.g., 18">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Optional - improves accuracy</small>
            </div>

            <div class="input-group">
                <label for="cleanJerk">Clean & Jerk 1RM (lbs)</label>
                <input type="number" id="cleanJerk" placeholder="e.g., 225">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Optional - for Grace prediction</small>
            </div>

            <div class="input-group">
                <label for="deadlift">Deadlift 1RM (lbs)</label>
                <input type="number" id="deadlift" placeholder="e.g., 405">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Optional - for Diane prediction</small>
            </div>

            <div class="input-group">
                <label for="maxHSPU">Max Unbroken HSPU</label>
                <input type="number" id="maxHSPU" placeholder="e.g., 15">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Optional - for Diane prediction</small>
            </div>

            <div class="input-group">
                <label for="rowTime">500m Row Time</label>
                <input type="text" id="rowTime" placeholder="e.g., 1:35">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Optional - Max effort 500m (min:sec)</small>
            </div>

            <div class="input-group">
                <label for="maxDoubleUnders">Max Unbroken Double-unders</label>
                <input type="number" id="maxDoubleUnders" placeholder="e.g., 50">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Optional - for Annie prediction</small>
            </div>

            <div class="input-group">
                <label for="mile400">400m Run Time</label>
                <input type="text" id="mile400" placeholder="e.g., 1:25">
                <small style="color: var(--text-secondary); font-size: 12px; margin-top: 5px; display: block;">Optional - Sprint pace (min:sec)</small>
            </div>

        </div>

        <button class="btn" onclick="predictPerformance()" style="width: 100%;">PREDICT MY TIMES</button>

        <div id="resultsSection" class="result">
            <hr style="border: none; border-top: 1px solid var(--border); margin: 40px 0;">
            
            <div style="text-align: center; margin-bottom: 30px;">
                <div class="performance-badge" id="performanceBadge"></div>
                <p style="color: var(--text-secondary); font-size: 14px;">Your estimated performance level</p>
            </div>

            <h3 style="font-size: 24px; margin-bottom: 20px;">Predicted Benchmark Times</h3>

            <div class="prediction-grid" id="predictionsGrid"></div>

            <div class="advanced-metrics">
                <h4 style="color: var(--primary-light); margin-bottom: 15px; font-size: 16px;">ðŸ“ˆ Performance Metrics</h4>
                <div id="metricsContent"></div>
            </div>

            <div class="info-card">
                <h4>ðŸ’¡ Understanding Your Results</h4>
                <ul>
                    <li><strong>Predictions are estimates:</strong> Based on correlations from thousands of athletes</li>
                    <li><strong>Â±15% variance:</strong> Individual technique and experience affect actual times</li>
                    <li><strong>Confidence levels:</strong> More input data = higher confidence predictions</li>
                    <li><strong>Use as targets:</strong> These represent realistic goals based on your current capacity</li>
                </ul>
            </div>

            <div class="inline-recommendation">
                <div class="recommendation-content">
                    <div style="font-size: 32px; margin-bottom: 10px;">ðŸ¤²</div>
                    <h4>Protect Your Hands During High-Rep WODs</h4>
                    <p>Benchmark WODs like Fran and Helen demand high-volume pull-ups. Quality hand grips prevent tears and keep you moving efficiently.</p>
                    <div style="display: flex; gap: 10px; margin-top: 15px; flex-wrap: wrap;">
                        <a href="https://amzn.to/4tC9Fi9" target="_blank" rel="noopener" class="inline-rec-btn">Hand Grips â†’</a>
                        <a href="https://amzn.to/4aRR6PK" target="_blank" rel="noopener" class="inline-rec-btn secondary">More Options â†’</a>
                    </div>
                </div>
            </div>

            <div class="benchmark-levels" style="margin-top: 30px;">
                <div class="level-badge">
                    <div class="level-name">ðŸŒ± Beginner</div>
                    <div class="level-value">Fran 10+ min</div>
                </div>
                <div class="level-badge">
                    <div class="level-name">ðŸ“ˆ Intermediate</div>
                    <div class="level-value">Fran 6-10 min</div>
                </div>
                <div class="level-badge">
                    <div class="level-name">ðŸ’ª Advanced</div>
                    <div class="level-value">Fran 4-6 min</div>
                </div>
                <div class="level-badge">
                    <div class="level-name">ðŸ”¥ Elite</div>
                    <div class="level-value">Fran &lt;4 min</div>
                </div>
            </div>
        </div>
    </div>

    <div class="product-category" style="margin-top: 50px;">
        <div class="category-header">
            <h3>Equipment for Benchmark WODs</h3>
            <p>The gear that helps you move faster and stay protected</p>
        </div>
        <div class="product-grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));">
            
            <div class="compact-product-card">
                <div class="compact-product-header">
                    <div class="compact-product-icon">ðŸ¤²</div>
                    <div class="compact-product-title">Hand Grips</div>
                </div>
                <div class="compact-product-desc">Prevent tears during pull-ups and bar work</div>
                <div class="product-links">
                    <a href="https://amzn.to/4tC9Fi9" target="_blank" rel="noopener" class="product-link-btn">Option 1</a>
                    <a href="https://amzn.to/4aRR6PK" target="_blank" rel="noopener" class="product-link-btn">Option 2</a>
                    <a href="https://amzn.to/4cueFiI" target="_blank" rel="noopener" class="product-link-btn">Option 3</a>
                    <a href="https://amzn.to/4kFdI9u" target="_blank" rel="noopener" class="product-link-btn">Option 4</a>
                </div>
            </div>

            <div class="compact-product-card">
                <div class="compact-product-header">
                    <div class="compact-product-icon">ðŸª¢</div>
                    <div class="compact-product-title">Jump Ropes</div>
                </div>
                <div class="compact-product-desc">Speed and precision for double-unders</div>
                <div class="product-links">
                    <a href="https://amzn.to/4ahqk38" target="_blank" rel="noopener" class="product-link-btn">Option 1</a>
                    <a href="https://amzn.to/4azS4yY" target="_blank" rel="noopener" class="product-link-btn">Option 2</a>
                    <a href="https://amzn.to/3OHNlUk" target="_blank" rel="noopener" class="product-link-btn">Option 3</a>
                    <a href="https://amzn.to/3OdlLyh" target="_blank" rel="noopener" class="product-link-btn">Option 4</a>
                </div>
            </div>

            <div class="compact-product-card">
                <div class="compact-product-header">
                    <div class="compact-product-icon">ðŸ¦µ</div>
                    <div class="compact-product-title">Knee Sleeves</div>
                </div>
                <div class="compact-product-desc">Support during squat-heavy WODs</div>
                <div class="product-links">
                    <a href="https://amzn.to/4az9JGT" target="_blank" rel="noopener" class="product-link-btn">Option 1</a>
                    <a href="https://amzn.to/4tDovVO" target="_blank" rel="noopener" class="product-link-btn">Option 2</a>
                    <a href="https://amzn.to/4ty0z6h" target="_blank" rel="noopener" class="product-link-btn">Option 3</a>
                    <a href="https://amzn.to/3MLAIah" target="_blank" rel="noopener" class="product-link-btn">Option 4</a>
                </div>
            </div>

        </div>
    </div>
</div>

<footer class="footer">
    <div class="footer-brand">WOD TOOLS</div>
    <p class="footer-text">
        Built for the box. Train smart. Lift heavy.<br>
        Professional tools for serious CrossFit athletes.
    </p>
    <p class="footer-disclaimer">
        As an Amazon Associate, we earn from qualifying purchases at no extra cost to you.
    </p>
</footer>

<script>
let currentUnit = localStorage.getItem('unit') || 'lbs';

function setUnit(unit) {
    currentUnit = unit;
    localStorage.setItem('unit', unit);
    document.getElementById('lbsBtn').classList.toggle('active', unit === 'lbs');
    document.getElementById('kgBtn').classList.toggle('active', unit === 'kg');
}

function parseTimeInput(input) {
    if (!input) return null;
    
    const str = input.toString().trim();
    
    if (str.includes(':')) {
        const parts = str.split(':');
        const minutes = parseInt(parts[0]);
        const seconds = parseFloat(parts[1]);
        return minutes + (seconds / 60);
    }
    
    return parseFloat(str);
}

function formatTime(totalMinutes) {
    const minutes = Math.floor(totalMinutes);
    const seconds = Math.round((totalMinutes - minutes) * 60);
    
    if (seconds === 60) {
        return `${minutes + 1}:00`;
    }
    
    return `${minutes}:${seconds.toString().padStart(2, '0')}`;
}

function predictPerformance() {
    const franTimeRaw = document.getElementById('franTime').value;
    const bodyweight = parseFloat(document.getElementById('bodyweight').value);
    const backSquat = parseFloat(document.getElementById('backSquat').value);
    const maxPullups = parseInt(document.getElementById('maxPullups').value);
    
    const cindyRounds = parseInt(document.getElementById('cindyRounds').value) || null;
    const cleanJerk = parseFloat(document.getElementById('cleanJerk').value) || null;
    const deadlift = parseFloat(document.getElementById('deadlift').value) || null;
    const maxHSPU = parseInt(document.getElementById('maxHSPU').value) || null;
    const rowTimeRaw = document.getElementById('rowTime').value;
    const maxDoubleUnders = parseInt(document.getElementById('maxDoubleUnders').value) || null;
    const run400Raw = document.getElementById('mile400').value;

    const franTime = parseTimeInput(franTimeRaw);
    const rowTime = parseTimeInput(rowTimeRaw);
    const run400 = parseTimeInput(run400Raw);

    if (!franTime || isNaN(bodyweight) || isNaN(backSquat) || isNaN(maxPullups)) {
        alert('Please fill in all required fields (marked with *)');
        return;
    }

    if (bodyweight <= 0 || backSquat <= 0 || maxPullups <= 0 || franTime <= 0) {
        alert('Please enter valid positive numbers for all required fields');
        return;
    }

    const performanceData = calculatePerformanceMetrics(
        franTime,
        bodyweight,
        backSquat,
        maxPullups,
        cindyRounds,
        cleanJerk,
        deadlift,
        maxHSPU,
        rowTime,
        maxDoubleUnders,
        run400
    );

    const predictions = generatePredictions(performanceData);
    displayResults(performanceData, predictions);
}

function calculatePerformanceMetrics(fran, bw, squat, pullups, cindy, cj, dl, hspu, row, du, run) {
    const squatRatio = squat / bw;
    const pullupScore = Math.min(pullups / 50, 1);
    const franScore = Math.max(0, 1 - (fran - 2) / 10);
    
    let baseScore = (franScore * 40) + (squatRatio * 30) + (pullupScore * 30);
    
    if (cindy) {
        const cindyScore = Math.min(cindy / 30, 1);
        baseScore = (baseScore * 0.85) + (cindyScore * 15);
    }
    
    if (row) {
        const rowScore = Math.max(0, 1 - (row - 1.4) / 0.5);
        baseScore += rowScore * 5;
    }
    
    if (du) {
        const duScore = Math.min(du / 100, 1);
        baseScore += duScore * 5;
    }
    
    if (run) {
        const runScore = Math.max(0, 1 - (run - 1.25) / 0.5);
        baseScore += runScore * 5;
    }
    
    let level;
    if (baseScore >= 85) level = 'ðŸ”¥ ELITE';
    else if (baseScore >= 70) level = 'ðŸ’ª ADVANCED';
    else if (baseScore >= 50) level = 'âš¡ INTERMEDIATE';
    else if (baseScore >= 30) level = 'ðŸ“ˆ DEVELOPING';
    else level = 'ðŸŒ± BEGINNER';

    return {
        score: Math.round(baseScore),
        level,
        squatRatio: squatRatio.toFixed(2),
        franTime: fran,
        bodyweight: bw,
        backSquat: squat,
        pullups,
        cindy,
        cj,
        dl,
        hspu,
        row,
        du,
        run
    };
}

function generatePredictions(data) {
    const { franTime, squatRatio, pullups, cindy, cj, dl, hspu, row, du, run } = data;
    
    const predictions = {};
    
    predictions.grace = {
        time: formatTime(
            (cj && cj > 0) ?
            franTime * 0.65 * (1 + (1.5 - squatRatio) * 0.2) :
            franTime * 0.70 * (1 + (1.5 - squatRatio) * 0.2)
        ),
        confidence: cj ? 'High' : 'Medium'
    };
    
    predictions.helen = {
        time: formatTime(
            franTime * 1.8 + (run ? (run - 1.25) * 0.5 : 0.5)
        ),
        confidence: run ? 'High' : 'Medium'
    };
    
    predictions.diane = {
        time: formatTime(
            (dl && hspu) ?
            franTime * 1.2 * (1 + (2.5 - (dl / data.bodyweight)) * 0.15) :
            franTime * 1.35
        ),
        confidence: (dl && hspu) ? 'High' : 'Low'
    };
    
    predictions.karen = {
        time: formatTime(
            franTime * 1.15 * (1 + (1.8 - squatRatio) * 0.15)
        ),
        confidence: 'Medium'
    };
    
    predictions.annie = {
        time: formatTime(
            du ?
            franTime * 1.4 * (1 - (du - 50) / 500) :
            franTime * 1.55
        ),
        confidence: du ? 'High' : 'Medium'
    };
    
    predictions.jackie = {
        time: formatTime(
            (row && run) ?
            franTime * 1.35 + (row - 1.5) * 0.5 :
            franTime * 1.45
        ),
        confidence: (row && run) ? 'High' : 'Medium'
    };
    
    predictions.nancy = {
        time: formatTime(
            franTime * 2.0 * (1 + (1.8 - squatRatio) * 0.2) + (run ? (run - 1.3) * 0.8 : 0.8)
        ),
        confidence: run ? 'High' : 'Medium'
    };
    
    predictions.elizabeth = {
        time: formatTime(
            franTime * 1.5 * (1 + (1.5 - squatRatio) * 0.15)
        ),
        confidence: 'Medium'
    };

    if (cindy) {
        predictions.murph = {
            time: formatTime(
                cindy * 2.2 + (pullups / 10)
            ),
            confidence: 'Medium'
        };
    }

    return predictions;
}

function displayResults(performanceData, predictions) {
    document.getElementById('resultsSection').classList.add('show');
    document.getElementById('performanceBadge').textContent = performanceData.level;

    const predictionsHTML = Object.entries(predictions).map(([wod, data]) => `
        <div class="prediction-item">
            <div class="prediction-wod-name">${wod.toUpperCase()}</div>
            <div class="prediction-time">${data.time}</div>
            <div class="prediction-confidence">Confidence: ${data.confidence}</div>
        </div>
    `).join('');
    document.getElementById('predictionsGrid').innerHTML = predictionsHTML;

    const metricsHTML = `
        <div class="metric-row">
            <span class="metric-label">Overall Performance Score</span>
            <span class="metric-value">${performanceData.score} / 100</span>
        </div>
        <div class="metric-row">
            <span class="metric-label">Squat-to-Bodyweight Ratio</span>
            <span class="metric-value">${performanceData.squatRatio}x</span>
        </div>
        <div class="metric-row">
            <span class="metric-label">Pull-up Capacity</span>
            <span class="metric-value">${performanceData.pullups} unbroken</span>
        </div>
        <div class="metric-row">
            <span class="metric-label">Fran Benchmark</span>
            <span class="metric-value">${formatTime(performanceData.franTime)}</span>
        </div>
    `;
    document.getElementById('metricsContent').innerHTML = metricsHTML;

    document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

document.addEventListener('DOMContentLoaded', () => {
    setUnit(currentUnit);
});
</script>

</body>
</html>
